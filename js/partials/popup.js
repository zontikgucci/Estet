"use strict";$(document).ready(function(){var n=$(".b-page-wrapper"),p=$(".b-popup"),e=$(".b-popup__content"),t=-1!==navigator.userAgent.toLowerCase().indexOf("windows");function s(){p.hasClass("open")&&(n.removeClass("no-scroll no-touch windows"),p.removeClass("open"),p.stop().fadeOut(300))}$(".js-open-popup").on("popup.onClose",function(o){s()}),$(document).on("click",".js-open-popup",function(){$(this).trigger("popup.onOpen")}),$(".js-open-popup").on("popup.onOpen",function(){!function(){$(this).trigger("popup.open",[void 0]);var o=$(".b-popup[data-popup='"+$(this).attr("data-popup")+"']");0<o.length&&(t&&function(o,n){var p=document,e=p.body,n=p.querySelector(n),t="client"+o;return o="scroll"+o,/CSS/.test(p.compatMode)?n[t]<n[o]:e[t]<e[o]}("Height",".b-page-wrapper")&&n.addClass("windows"),p.removeClass("open"),p.fadeOut(300),n.addClass("no-scroll no-touch"),o.addClass("open"),o.css("display","flex").hide().fadeIn(300))}.call(this)}),$(document).on("click",".js-close-popup",function(){s(),$(".js-menu-in-popup-back").length&&$(".js-menu-in-popup-back").trigger("click")}),$(document).on("keydown",function(o){27===o.keyCode&&s()}),$(document).mouseup(function(o){!p.hasClass("open")||e.is(o.target)||0!==e.has(o.target).length||s()})});