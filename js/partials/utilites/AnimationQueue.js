"use strict";function AnimationQueue(e,a,n){var r,o="action",c="out;",s=(new RegExp("([.0-9]+)%","gi"),new RegExp("([.0-9]+)s","gi"),new RegExp("([.0-9]+)ms","gi"),null),u=[],f=this,l=0;if(n=n||1,isNaN(a))throw new TypeError("invalid arguments");function d(t){var i;l++,s||"function"!=typeof f.animationstart||f.animationstart.call(f),s=s||t,t<=f.end&&!r?(requestAnimationFrame(d),l%n||(i=map(t,f.begin,f.end,0,1),f.list.filter(function(t){var n=t.start<=i&&i<=t.end;return t.start===t.end&&t.start<=i&&!u[t.id]?(u[t.id]=c,t.func.call(f,0,"once"),!1):n&&!u[t.id]?(u[t.id]=o,t.func.call(f,0,"first"),!1):(n||u[t.id]!==o||(u[t.id]=c,t.func.call(f,1,"last")),n)}).forEach(function(t){t.func.call(f,map(i,t.start,t.end,0,1))}))):(s=r=null,u=[],l=0,"function"==typeof f.animationend&&f.animationend.call(f))}Object.defineProperty(this,"begin",{get:function(){return s}}),Object.defineProperty(this,"end",{get:function(){return s?s+a:null}}),Object.defineProperty(this,"inAction",{get:function(){return Boolean(s)}}),this.start=function(){f.inAction||requestAnimationFrame(d)},this.stop=function(){f.inAction&&(r=!0)},this.list=Object.keys(e).map(function(t,n){var i=t.split("-");return i.forEach(function(t,n,i){var t=t.trim(),e=/([.0-9]+)%/.test(t)?.01:1;e=/([.0-9]+)s/.test(t)?1e3/a:e,e=/([.0-9]+)ms/.test(t)?1/a:e,i[n]=parseFloat(t)*e}),{id:n,start:isNaN(i[0])?-1:i[0],end:isNaN(i[1])?i[0]:i[1],func:"function"==typeof e[t]?e[t]:function(){}}})}function map(t,n,i,e,a){return(t-n)*(a-e)/(i-n)+e}